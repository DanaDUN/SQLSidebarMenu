<!-- 只貼部分關鍵內容 -->

<link href="~/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
<link href="~/sidebar/style.css" rel="stylesheet" />

<style>
    .sidebar-menu .active {
        background-color: #0d6efd;
        color: white !important;
        font-weight: bold;
    }
</style>

<body class="bg-body-tertiary">

<!-- 側欄 -->
<aside class="collapse show collapse-horizontal col-sm-2 p-3 border-end bg-body-tertiary" id="collapseWidthExample">
<div>
    @await Component.InvokeAsync("SidebarMenu")
</div>
</aside>

<!-- 主內容 -->
<main class="col-sm-10 bg-body-tertiary d-flex flex-column min-vh-100" id="main">
<!-- 收合按鈕 -->
<button class="btn btn-outline-secondary" type="button" data-bs-toggle="collapse"
        data-bs-target="#collapseWidthExample" aria-expanded="true" aria-controls="collapseWidthExample"
        style="margin-right: 10px; padding: 0px 5px 0px 5px;" id="sidebartoggle" onclick="changeclass()">
    <i class="bi bi-arrows-expand-vertical"></i>
</button>
</main>

<script src="~/lib/jquery/jquery.min.js"></script>
<script src="~/lib/bootstrap/js/bootstrap.bundle.min.js"></script>
<script>
    // 側欄收合
    function changeclass() {
        $("#main").toggleClass('col-sm-10 col-sm-12');
    }
    document.getElementById('sidebartoggle').addEventListener('click', function () {
        var sidebar = document.getElementById('collapseWidthExample');
        sidebar.classList.toggle('collapsed');
    });
    function clearJsTreeState() {
        localStorage.removeItem('jstree');
    }
</script>

</body>
